#!/usr/bin/env php
# curl https://raw.githubusercontent.com/jtsternberg/Dot-Files/master/misc/bootstrap | sudo php -- $OSTYPE

<?php
$os_type = isset( $argv[1] ) ? $argv[1] . "\n" : `echo \$OSTYPE`;
echo '$OSTYPE:' . $os_type . "\n";

echo "Clone Dot-Files\n";
echo `git clone --recursive https://github.com/jtsternberg/Dot-Files.git ~/.dotfiles`;

if ( false !== stripos( $os_type, 'linux' ) ) {

	echo ">> Get OS packages\n\n";
	echo `sudo apt-get -y install zsh tree tig wget`;

	echo ">> Symlink dotfiles\n\n";
	echo `cd ~/.dotfiles && chmod +x symdotfiles && bash symdotfiles`;

	echo ">> install oh-my-zsh\n\n";
	echo `curl -L http://install.ohmyz.sh | sh`;

	echo ">> switch shell\n\n";
	echo ">> Don't forget to change your shell! `chsh -s $(which zsh)`\n\n";
	echo `chsh -s $(which zsh)`;
}
