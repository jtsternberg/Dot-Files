# view modified files in a directory
ls-mod-dir() { git ls-files -m -- "$*" }

# reset modified files in a directory
reset-mod-dir() { git checkout -- `git ls-files -m -- "$*"` }

# Remove untracked files (use caution)
remove-untracked() { rm -rf `git ls-files --other --exclude-standard` }

# Get all files changed b/w commits
gdifflog() { git log --name-only --pretty=oneline --full-index $*..HEAD | grep -vE '^[0-9a-f]{40} ' | sort | uniq }

# Delete a remote branch.. because the syntax is so weird
deleteremote() { git push $1 :$2 }

# Search commits for a string or code
searchcommits() { git log -G "$*" --oneline }

# Open difftool viewing all files excluding specified directories
diffwithout() {
	if [ -z "$1" ] || [ -z "$2" ]
		then
			# then throw a message
			echo 'Please specify a branch and a folder to exclude'
			return 1
	fi

	branch=$1
	shift

	directories=""

	for var in "$@"
		do
			directories+="$var|" # Delimeter
	done

	filelist=$(git diff $branch -C --name-only | grep -vE "^(${directories%?})/" | tr "\n" " ")
	eval "git difftool -C $branch -- $filelist"
}
